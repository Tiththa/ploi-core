"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7220],{7220:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r=n(9680),o=n(397);const s={props:{id:{type:String,required:!0},type:{type:String,default:function(){return"text"}},required:{type:Boolean,default:function(){return!1}},errors:{type:Array},placeholder:{type:String}},data:function(){return{defaultClasses:"w-full border-medium-emphasis text-body h-10 max-w-lg px-2 border rounded bg-surface-1 focus:outline-none focus:border-primary"}}};var a=n(1900);const i=(0,a.Z)(s,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{class:[e.defaultClasses],attrs:{id:e.id,type:e.type,required:e.required,placeholder:e.placeholder}})}),[],!1,null,null,null).exports;const l={components:{FormInput:n(2143).Z,Input:i,Button:o.Z},props:{secret:Object,recoveryCodes:Array,enabled:Boolean},data:function(){return{sending:!1,form:{code:""}}},methods:{enable2FA:function(){r.Inertia.put(this.route("profile.security.two-factor-authentication.create"))},confirm2FA:function(){var e=this;r.Inertia.patch(this.route("profile.security.two-factor-authentication.confirm"),this.form,{onStart:function(){return e.sending=!0},onFinish:function(){return e.sending=!1}})},regenerateRecoveryCodes:function(){var e=this;r.Inertia.patch(this.route("profile.security.two-factor-authentication.regenerate-recovery-codes"),{},{onStart:function(){return e.sending=!0},onFinish:function(){return e.sending=!1}})},disable2FA:function(){var e=this;r.Inertia.delete(this.route("profile.security.two-factor-authentication.destroy"),{},{onStart:function(){return e.sending=!0},onFinish:function(){return e.sending=!1}})}}};const u=(0,a.Z)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.secret.string?e.enabled?n("div",{staticClass:"space-y-4"},[0!==e.recoveryCodes.length?n("div",{staticClass:"space-y-4"},[n("div",[n("strong",{},[e._v(e._s(e.__("Recovery codes")))]),e._v(" "),n("p",[e._v(e._s(e.__("Please store your recovery codes safely. When you lose access to both your Authenticator app and recovery codes, you might become locked out of your account forever.")))]),e._v(" "),n("strong",{staticClass:"block mt-2"},[e._v(e._s(e.__("Your recovery codes will only be displayed once.")))])]),e._v(" "),n("ul",{staticClass:"bg-gray-50 rounded-md font-mono px-4 py-3"},e._l(e.recoveryCodes,(function(t){return n("li",{key:t.code,domProps:{textContent:e._s(t.code)}})})),0)]):e._e(),e._v(" "),n("div",{staticClass:"mt-2 flex gap-x-4"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.regenerateRecoveryCodes(t)}}},[n("Button",{attrs:{loading:e.sending}},[e._v("\n                "+e._s(e.__("Regenerate recovery codes"))+"\n            ")])],1),e._v(" "),n("form",{on:{submit:function(t){return t.preventDefault(),e.disable2FA(t)}}},[n("Button",{attrs:{variant:"danger",loading:e.sending}},[e._v("\n                "+e._s(e.__("Disable two factor authentication"))+"\n            ")])],1)])]):n("div",[n("p",[e._v(e._s(e.__("Please scan the QR-code with your authentication app to confirm. ")))]),e._v(" "),n("div",{domProps:{innerHTML:e._s(e.secret.qr_code)}}),e._v(" "),n("form",{staticClass:"space-y-4",on:{submit:function(t){return t.preventDefault(),e.confirm2FA(t)}}},[n("FormInput",{attrs:{label:e.__("Enter the confirmation code"),autofocus:!0,errors:e.$page.props.errors.code,required:""},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),e._v(" "),n("Button",{attrs:{loading:e.sending}},[e._v("\n            "+e._s(e.__("Confirm code"))+"\n        ")])],1)]):n("div",[n("form",{on:{submit:function(t){return t.preventDefault(),e.enable2FA(t)}}},[n("Button",{attrs:{loading:e.sending}},[e._v("\n            "+e._s(e.__("Enable two-factor authentication"))+"\n        ")])],1)])}),[],!1,null,null,null).exports},397:(e,t,n)=>{n.d(t,{Z:()=>a});var r={primary:"bg-primary text-on-primary shadow",danger:"bg-danger text-on-danger shadow",secondary:"bg-surface-2 text-high-emphasis"},o={sm:"h-8 px-2",md:"h-10 px-5"};const s={props:{as:{default:function(){return"button"}},href:{default:function(){return null}},block:{type:Boolean,default:function(){return!1}},variant:{type:String,default:function(){return"primary"},validator:function(e){return Object.keys(r).includes(e)}},size:{type:String,default:"md"},loading:{default:!1},disabled:{default:!1}},data:function(){return{baseClasses:"items-center justify-center font-medium capitalize rounded select-none focus:outline-none",flexClasses:"flex w-full text-body",inlineFlexClasses:"inline-flex text-small",variantClasses:r,sizeClasses:o}}};const a=(0,n(1900).Z)(s,(function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.as,{tag:"Component",class:[e.baseClasses,e.sizeClasses[e.size],e.variantClasses[e.variant],e.block?e.flexClasses:e.inlineFlexClasses,e.disabled||e.loading?"opacity-50":"",e.loading?"cursor-wait":""],attrs:{disabled:e.loading||e.disabled,href:e.href},on:{click:function(t){return e.$emit("click")}}},[e._t("default")],2)}),[],!1,null,null,null).exports},1447:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(0,n(1900).Z)({},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("p",{staticClass:"text-danger"},[e._t("default")],2)}),[],!1,null,null,null).exports},294:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(0,n(1900).Z)({},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"flex flex-col space-y-1"},[e._t("default")],2)}),[],!1,null,null,null).exports},2064:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(0,n(1900).Z)({},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("p",{staticClass:"text-medium-emphasis text-small"},[e._t("default")],2)}),[],!1,null,null,null).exports},8437:(e,t,n)=>{n.d(t,{Z:()=>o});const r={props:{forId:{type:String,required:!1},errors:{type:Array}}};const o=(0,n(1900).Z)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("label",{class:["text-small"],attrs:{for:e.forId}},[e._t("default")],2)}),[],!1,null,null,null).exports},2143:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(294),o=n(8437),s=n(1447),a=n(2064),i=n(8511),l=n(9783);const u={props:{id:{type:String,required:!1},label:{type:String,required:!0},type:{type:String,default:function(){return"text"}},required:{type:Boolean,default:function(){return!1}},errors:{type:Array},helperText:{type:String},placeholder:{type:String},value:{required:!1,default:""},allowCopy:{required:!1,default:!1,type:Boolean},allowRandomString:{required:!1,default:!1,type:Boolean},loading:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},autofocus:{type:Boolean,required:!1,default:!1}},components:{FormGroup:r.Z,Label:o.Z,ErrorText:s.Z,HelperText:a.Z,IconClipboard:i.Z,IconKey:l.Z},data:function(){return{defaultClasses:"w-full border-medium-emphasis text-body h-10 px-2 border rounded bg-surface-1 focus:outline-none focus:border-primary",copied:!1}},watch:{copied:function(){var e=this;this.copied&&setTimeout((function(){e.copied=!1}),1250)}},methods:{updateValue:function(e){this.$emit("input",e)},copy:function(){this.copied=!0,this.$copyText(this.value)},generateString:function(){this.$emit("input",this.randomString())}},computed:{copyText:function(){return this.copied?this.__("Copied to clipboard"):this.__("Copy")}}};const c=(0,n(1900).Z)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("FormGroup",{staticClass:"relative"},[n("Label",{attrs:{errors:e.errors,forId:e.id}},[e._v(e._s(e.label))]),e._v(" "),e.allowCopy?n("button",{staticClass:"flex items-center right-0 absolute text-xs text-medium-emphasis",attrs:{type:"button"},on:{click:e.copy}},[n("IconClipboard",{staticClass:"mr-2"}),e._v("\n        "+e._s(e.copyText)+"\n    ")],1):e._e(),e._v(" "),e.allowRandomString?n("button",{staticClass:"flex items-center right-0 absolute text-xs text-medium-emphasis",attrs:{type:"button"},on:{click:e.generateString}},[n("IconKey",{staticClass:"mr-2"}),e._v("\n        "+e._s(e.__("Generate"))+"\n    ")],1):e._e(),e._v(" "),n("input",{class:[e.defaultClasses,e.disabled||e.loading?"opacity-50":"",e.loading?"cursor-wait":""],attrs:{id:e.id,type:e.type,required:e.required,disabled:e.loading||e.disabled,autofocus:e.autofocus,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.updateValue(t.target.value)}}}),e._v(" "),e.errors?n("ErrorText",[e._v(e._s(e.errors[0]))]):e._e(),e._v(" "),e.helperText&&!e.errors?n("HelperText",[e._v(e._s(e.helperText))]):e._e()],1)}),[],!1,null,null,null).exports},8511:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(0,n(1900).Z)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticClass:"bi bi-clipboard",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"}}),e._v(" "),n("path",{attrs:{"fill-rule":"evenodd",d:"M9.5 1h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"}})])}),[],!1,null,null,null).exports},9783:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(0,n(1900).Z)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticClass:"bi bi-key",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M0 8a4 4 0 0 1 7.465-2H14a.5.5 0 0 1 .354.146l1.5 1.5a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0L13 9.207l-.646.647a.5.5 0 0 1-.708 0L11 9.207l-.646.647a.5.5 0 0 1-.708 0L9 9.207l-.646.647A.5.5 0 0 1 8 10h-.535A4 4 0 0 1 0 8zm4-3a3 3 0 1 0 2.712 4.285A.5.5 0 0 1 7.163 9h.63l.853-.854a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.793-.793-1-1h-6.63a.5.5 0 0 1-.451-.285A3 3 0 0 0 4 5z"}}),e._v(" "),n("path",{attrs:{d:"M4 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}})])}),[],!1,null,null,null).exports},1900:(e,t,n)=>{function r(e,t,n,r,o,s,a,i){var l,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=l):o&&(l=i?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:u}}n.d(t,{Z:()=>r})}}]);