import o from"./TopBar.2e057c1e.js";import s from"./Container.f87d9f62.js";import n from"./Content.e22a1fd6.js";import a from"./Page.3927bdbf.js";import m from"./PageHeader.a5f457a5.js";import u from"./PageHeaderTitle.3ed783af.js";import l from"./PageBody.dec1fae1.js";import p from"./Button.f17dffc9.js";import f from"./List.d5d221b1.js";import c from"./ListItem.ee1e88fb.js";import d from"./StatusBubble.4f1d8322.js";import _ from"./NotificationBadge.b6fae3d5.js";import h from"./MainLayout.32034cd8.js";import g from"./SettingsLayout.3305573b.js";import y from"./SettingsSegment.e8fdfb41.js";import v from"./FormInput.7debc7c5.js";import b from"./Form.2cdcadd9.js";import S from"./FormActions.83ccca91.js";import{u as x}from"./confirm.de1ba996.js";import k from"./Tabs.d2cdbef6.js";import{n as C}from"./plugin-vue2_normalizer.000ba15c.js";import"./TopBar.27b84f08.js";import"./Dropdown.d1060583.js";import"./DropdownList.02c48c2f.js";import"./DropdownListItem.ac31464c.js";import"./IconMoon.ade3e41b.js";import"./IconSun.8809e5d7.js";import"./IconSearch.27dac870.js";import"./IconButton.eadc8d3d.js";import"./Breadcrumbs.d39e2491.js";import"./BreadcrumbsItem.da3f8155.js";import"./TopBarTabBarContainer.3bdb2bb3.js";import"./TabBar.c1d45ed5.js";import"./TabBarItem.e9886f0a.js";import"./Confirm.888708f1.js";import"./Notification.d432029f.js";import"./IconDanger.2f6e115d.js";import"./IconWarning.ca92fb65.js";import"./IconSuccess.09b85716.js";import"./IconInfo.ad7662f9.js";import"./SearchPalette.282fdde5.js";import"./notification.2c23a76c.js";import"./app.afed1c99.js";import"./FormGroup.efd02a6a.js";import"./Label.9d0d3ee0.js";import"./ErrorText.b141a597.js";import"./HelperText.14a7ed0b.js";import"./IconClipboard.8551be1b.js";import"./IconKey.455a255f.js";const P={metaInfo(){return{title:this.site.domain}},layout:h,components:{TopBar:o,Container:s,Content:n,Page:a,PageHeader:m,PageHeaderTitle:u,PageBody:l,Button:p,List:f,ListItem:c,StatusBubble:d,NotificationBadge:_,FormInput:v,SettingsLayout:g,SettingsSegment:y,Form:b,FormActions:S,Tabs:k},data(){return{sending:!1,timeout:null,form:{domain:this.site.domain,dns_id:null},breadcrumbs:[{title:this.$page.props.settings.name,to:"/"},{title:this.__("Sites"),to:this.route("sites.index")},{title:this.site.domain,to:this.route("sites.show",this.site.id)},{title:this.__("Settings"),to:this.route("sites.show",this.site.id)}]}},props:{site:Object,available_php_versions:Array},methods:{submit(){this.sending=!0,this.$inertia.patch(this.route("sites.settings.update",this.site.id),this.form,{onFinish:()=>{this.sending=!1}})},changePhpVersion(r){this.sending=!0,this.$inertia.patch(this.route("sites.settings.php-version",this.site.id),{version:r},{onFinish:()=>{this.timeout=setTimeout(()=>{this.clearTimeoutInterval(),this.sending=!1,this.$inertia.get(this.route("sites.settings.show",this.site.id))},3e3)}})},confirmDelete(){x({title:this.__("Are you sure?"),message:this.__("Your site will be deleted completely, this action is irreversible."),onConfirm:()=>this.delete()})},delete(){this.$inertia.delete(this.route("sites.delete",this.site.id))},clearTimeoutInterval(){clearTimeout(this.timeout),this.timeout=null}},beforeDestroy(){this.clearTimeoutInterval()}};var B=function(){var t=this,e=t._self._c;return e("Page",[e("TopBar",{attrs:{breadcrumbs:t.breadcrumbs}}),e("Content",[e("Container",[e("PageHeader",{scopedSlots:t._u([{key:"start",fn:function(){return[e("PageHeaderTitle",[t._v(t._s(t.__("Settings")))])]},proxy:!0}])}),e("PageBody",[e("SettingsLayout",{scopedSlots:t._u([{key:"nav",fn:function(){return[e("Tabs",{attrs:{site:t.site}})]},proxy:!0},{key:"segments",fn:function(){return[e("SettingsSegment",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.__("Overview")))]},proxy:!0},{key:"form",fn:function(){return[e("form",{staticClass:"space-y-4",on:{submit:function(i){return i.preventDefault(),t.submit.apply(null,arguments)}}},[e("FormInput",{attrs:{label:t.__("Domain"),errors:t.$page.props.errors.domain},model:{value:t.form.domain,callback:function(i){t.$set(t.form,"domain",i)},expression:"form.domain"}}),e("FormActions",[e("Button",[t._v(t._s(t.__("Save")))])],1)],1)]},proxy:!0}])}),e("SettingsSegment",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.__("PHP version")))]},proxy:!0},{key:"subtitle",fn:function(){return[t._v(" "+t._s(t.__("Change your PHP version here. If you do not have the version available get in touch with support to get this added."))+" ")]},proxy:!0},{key:"form",fn:function(){return[e("div",{staticClass:"space-y-4"},[e("FormActions",t._l(t.available_php_versions,function(i){return e("Button",{key:i,staticClass:"relative",attrs:{disabled:i==t.site.php_version||t.sending},on:{click:function($){return t.changePhpVersion(i)}}},[t._v(" "+t._s(i)+" "),t.timeout?e("span",{staticClass:"flex absolute h-3 w-3 top-0 right-0 -mt-1 -mr-1"},[e("span",{staticClass:"animate-ping absolute inline-flex h-full w-full rounded-circle bg-surface-1 opacity-75"}),e("span",{staticClass:"relative inline-flex rounded-circle h-3 w-3 bg-success"})]):t._e()])}),1)],1)]},proxy:!0}])}),t.$page.props.auth.integrations.cloudflare?e("SettingsSegment",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.__("DNS settings")))]},proxy:!0},{key:"content",fn:function(){return[e("div",{staticClass:"bg-success text-on-primary p-4 rounded",attrs:{role:"alert"}},[e("p",[t._v(t._s(t.__("Cloudflare is attached to this domain")))])])]},proxy:!0},{key:"form",fn:function(){return[e("form",{staticClass:"space-y-4",on:{submit:function(i){return i.preventDefault(),t.submit.apply(null,arguments)}}},[e("FormInput",{attrs:{label:"Cloudflare zone ID",errors:t.$page.props.errors.dns_id},model:{value:t.form.dns_id,callback:function(i){t.$set(t.form,"dns_id",i)},expression:"form.dns_id"}}),e("FormActions",[e("Button",[t._v(t._s(t.__("Save")))])],1)],1)]},proxy:!0}],null,!1,3399133441)}):t._e(),t.can("sites","delete")?e("SettingsSegment",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.__("Danger zone")))]},proxy:!0},{key:"content",fn:function(){return[e("Button",{attrs:{variant:"danger"},on:{click:t.confirmDelete}},[t._v(t._s(t.__("Delete")))])]},proxy:!0}],null,!1,253833427)}):t._e()]},proxy:!0}])})],1)],1)],1)],1)},F=[],T=C(P,B,F,!1,null,null,null,null);const Pt=T.exports;export{Pt as default};
