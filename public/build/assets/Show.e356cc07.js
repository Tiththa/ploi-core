import o from"./TopBar.9b3360d5.js";import a from"./Container.f87d9f62.js";import i from"./Content.e22a1fd6.js";import p from"./Page.3927bdbf.js";import n from"./PageHeader.a5f457a5.js";import l from"./PageHeaderTitle.3ed783af.js";import m from"./PageBody.dec1fae1.js";import d from"./Button.f17dffc9.js";import u from"./List.d5d221b1.js";import _ from"./ListItem.ee1e88fb.js";import f from"./StatusBubble.4f1d8322.js";import c from"./NotificationBadge.b6fae3d5.js";import w from"./MainLayout.39e63d2b.js";import b from"./SettingsLayout.3305573b.js";import y from"./SettingsSegment.e8fdfb41.js";import v from"./FormInput.e3b01057.js";import g from"./Form.2cdcadd9.js";import h from"./FormActions.83ccca91.js";import{u as T}from"./notification.f3a0f54e.js";import x from"./Tabs.d2cdbef6.js";import P from"./Table.5d32c28c.js";import C from"./TableHead.1eed799b.js";import S from"./TableHeader.44bdf327.js";import F from"./TableRow.6382a60a.js";import k from"./TableBody.c78326a3.js";import I from"./TableData.c69a64ca.js";import $ from"./Modal.a59fc373.js";import R from"./ModalContainer.51de3ea9.js";import D from"./Copy.255a9bbc.js";import{n as B}from"./plugin-vue2_normalizer.000ba15c.js";import"./TopBar.f6a175cb.js";import"./Dropdown.d1060583.js";import"./DropdownList.02c48c2f.js";import"./DropdownListItem.ac31464c.js";import"./IconMoon.ade3e41b.js";import"./IconSun.8809e5d7.js";import"./IconSearch.27dac870.js";import"./IconButton.eadc8d3d.js";import"./Breadcrumbs.d39e2491.js";import"./BreadcrumbsItem.da3f8155.js";import"./TopBarTabBarContainer.3bdb2bb3.js";import"./TabBar.c1d45ed5.js";import"./TabBarItem.e9886f0a.js";import"./Confirm.888708f1.js";import"./Notification.d432029f.js";import"./IconDanger.2f6e115d.js";import"./IconWarning.ca92fb65.js";import"./IconSuccess.09b85716.js";import"./IconInfo.ad7662f9.js";import"./SearchPalette.282fdde5.js";import"./app.0131bc0c.js";import"./FormGroup.efd02a6a.js";import"./Label.9d0d3ee0.js";import"./ErrorText.b141a597.js";import"./HelperText.14a7ed0b.js";import"./IconClipboard.8551be1b.js";import"./IconKey.455a255f.js";import"./IconClose.edb7c8fd.js";const H={metaInfo(){return{title:this.site.domain}},layout:w,components:{TopBar:o,Container:a,Content:i,Page:p,PageHeader:n,PageHeaderTitle:l,PageBody:m,Button:d,List:u,ListItem:_,StatusBubble:f,NotificationBadge:c,FormInput:v,SettingsLayout:b,SettingsSegment:y,Form:g,FormActions:h,Tabs:x,Table:P,TableHead:C,TableHeader:S,TableRow:F,TableBody:k,TableData:I,Modal:$,ModalContainer:R,Copy:D},data(){return{sending:!1,modalIsOpen:!1,ftp_password:null,form:{password:null},breadcrumbs:[{title:this.$page.props.settings.name,to:"/"},{title:this.__("Sites"),to:this.route("sites.index")},{title:this.site.domain,to:this.route("sites.show",this.site.id)}]}},props:{site:Object,ip_address:String,system_user:Object},computed:{mainDnsRecord(){return this.site.domain.includes("www")?this.site.domain.replace("www.",""):this.site.domain}},methods:{useNotification:T,confirmRequestFtpPassword(){this.$page.props.auth.user.requires_password_for_ftp?this.modalIsOpen=!0:this.requestFtpPassword()},closeModal(){this.form.password=null,this.modalIsOpen=!1,this.$page.props.errors=[]},requestFtpPassword(){this.$page.props.errors=[],window.axios.post(this.route("sites.request-ftp-password",this.site.id),this.form).then(s=>{if(!s.data.ftp_password){this.useNotification({variant:"danger",title:this.__("FTP password"),message:this.__("Unable to retrieve FTP password")});return}this.form.password=null,this.modalIsOpen=!1,this.ftp_password=s.data.ftp_password}).catch(s=>{this.$page.props.errors=s.response.data.errors})}}};var q=function(){var t=this,r=t._self._c;return r("Page",[r("Portal",{attrs:{to:"modals"}},[r("ModalContainer",[t.modalIsOpen?r("Modal",{on:{close:()=>t.closeModal(),submit:t.requestFtpPassword},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.__("Request FTP password")))]},proxy:!0},{key:"form",fn:function(){return[r("FormInput",{attrs:{type:"password",label:t.__("Enter your account password to reveal FTP password"),errors:t.$page.props.errors.password},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})]},proxy:!0},{key:"form-actions",fn:function(){return[r("Button",{domProps:{textContent:t._s(t.__("Request"))}})]},proxy:!0}],null,!1,1402468597)}):t._e()],1)],1),r("TopBar",{attrs:{breadcrumbs:t.breadcrumbs}}),r("Content",[r("Container",[r("PageHeader",{scopedSlots:t._u([{key:"start",fn:function(){return[r("PageHeaderTitle",{staticClass:"flex space-x-2 items-center"},[r("span",[t._v(t._s(t.site.domain))]),r("a",{staticClass:"text-primary",attrs:{href:`http://${t.site.domain}`,target:"_blank"}},[r("svg",{staticClass:"h-5 w-5 text-primary hover:scale-125",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"}})])])])]},proxy:!0}])}),r("PageBody",[r("SettingsLayout",{scopedSlots:t._u([{key:"nav",fn:function(){return[r("Tabs",{attrs:{site:t.site}})]},proxy:!0},{key:"segments",fn:function(){return[r("SettingsSegment",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.__("Overview")))]},proxy:!0},{key:"content",fn:function(){return[r("div",[r("Table",{attrs:{caption:"Database list overview"}},[r("TableBody",[r("TableRow",[r("TableHeader",[t._v(t._s(t.__("Website path")))]),r("TableData",{attrs:{border:!1}},[t._v(" /home/"+t._s(t.system_user.user_name)+"/"+t._s(t.site.domain)+" ")])],1),r("TableRow",[r("TableHeader",[t._v(t._s(t.__("FTP host")))]),r("TableData",{attrs:{border:!1}},[r("copy",{attrs:{label:`${t.ip_address}`,value:t.ip_address}})],1)],1),r("TableRow",[r("TableHeader",[t._v(t._s(t.__("FTP user")))]),r("TableData",{attrs:{border:!1}},[r("copy",{attrs:{label:`${t.system_user.user_name}`,value:t.system_user.user_name}})],1)],1),r("TableRow",[r("TableHeader",[t._v(t._s(t.__("FTP password")))]),r("TableData",{attrs:{border:!1}},[t.ftp_password?r("div",{domProps:{textContent:t._s(t.ftp_password)}},[r("copy",{attrs:{label:`${t.ftp_password}`,value:t.ftp_password}})],1):r("Button",{attrs:{variant:"secondary",size:"sm"},on:{click:t.confirmRequestFtpPassword}},[t._v(" "+t._s(t.__("Request FTP password"))+" ")])],1)],1),r("TableRow",[r("TableHeader",[t._v(t._s(t.__("Creation date")))]),r("TableData",{attrs:{border:!1}},[t._v(t._s(t.site.created_at))])],1)],1)],1)],1)]},proxy:!0}])}),r("SettingsSegment",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.__("DNS settings")))]},proxy:!0},{key:"subtitle",fn:function(){return[t._v(" "+t._s(t.__("Setup these DNS records to attach your webhosting to your domain."))+" ")]},proxy:!0},{key:"form",fn:function(){return[r("form",{staticClass:"space-y-4"},[r("div",{staticClass:"grid grid-cols-2 gap-4"},[r("div",{staticClass:"col-span-2 md:col-span-1"},[r("FormInput",{attrs:{label:"A",errors:t.$page.props.errors.domain,value:t.mainDnsRecord}})],1),r("div",{staticClass:"col-span-2 md:col-span-1"},[r("FormInput",{attrs:{label:"IP","allow-copy":"",errors:t.$page.props.errors.domain,value:t.ip_address}})],1)]),r("div",{staticClass:"grid grid-cols-2 gap-4"},[r("div",{staticClass:"col-span-2 md:col-span-1"},[r("FormInput",{attrs:{label:"A",errors:t.$page.props.errors.domain,value:"www"}})],1),r("div",{staticClass:"col-span-2 md:col-span-1"},[r("FormInput",{attrs:{label:"IP","allow-copy":"",errors:t.$page.props.errors.domain,value:t.ip_address}})],1)])])]},proxy:!0}])}),t.site.aliases.length?r("SettingsSegment",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.__("DNS settings for aliases")))]},proxy:!0},{key:"subtitle",fn:function(){return[t._v(" "+t._s(t.__("Setup these DNS records to attach your webhosting to your domain."))+" ")]},proxy:!0},{key:"form",fn:function(){return[r("form",{staticClass:"space-y-4"},t._l(t.site.aliases,function(e){return r("div",{staticClass:"grid grid-cols-2 gap-4"},[r("div",{staticClass:"col-span-2 md:col-span-1"},[r("FormInput",{attrs:{label:"A",errors:t.$page.props.errors.domain,value:e}})],1),r("div",{staticClass:"col-span-2 md:col-span-1"},[r("FormInput",{attrs:{label:"IP","allow-copy":"",errors:t.$page.props.errors.domain,value:t.ip_address}})],1)])}),0)]},proxy:!0}],null,!1,449143036)}):t._e()]},proxy:!0}])})],1)],1)],1)],1)},M=[],O=B(H,q,M,!1,null,null,null,null);const zt=O.exports;export{zt as default};
