import i from"./TopBar.9b3360d5.js";import s from"./Container.f87d9f62.js";import n from"./Content.e22a1fd6.js";import a from"./Page.3927bdbf.js";import m from"./PageHeader.a5f457a5.js";import l from"./PageHeaderTitle.3ed783af.js";import p from"./PageBody.dec1fae1.js";import d from"./Button.f17dffc9.js";import u from"./List.d5d221b1.js";import f from"./ListItem.ee1e88fb.js";import c from"./StatusBubble.4f1d8322.js";import _ from"./NotificationBadge.b6fae3d5.js";import h from"./MainLayout.39e63d2b.js";import g from"./SettingsLayout.3305573b.js";import b from"./SettingsSegment.e8fdfb41.js";import y from"./FormInput.e3b01057.js";import v from"./Form.2cdcadd9.js";import S from"./Pagination.a93b6f75.js";import T from"./FormActions.83ccca91.js";import{u as x}from"./confirm.bae7aa90.js";import{u as C}from"./notification.f3a0f54e.js";import w from"./Tabs.d2cdbef6.js";import D from"./Table.5d32c28c.js";import k from"./TableHead.1eed799b.js";import B from"./TableHeader.44bdf327.js";import H from"./TableRow.6382a60a.js";import N from"./TableBody.c78326a3.js";import P from"./TableData.c69a64ca.js";import $ from"./EmptyImage.4bfdf9ac.js";import{n as F}from"./plugin-vue2_normalizer.000ba15c.js";import"./TopBar.f6a175cb.js";import"./Dropdown.d1060583.js";import"./DropdownList.02c48c2f.js";import"./DropdownListItem.ac31464c.js";import"./IconMoon.ade3e41b.js";import"./IconSun.8809e5d7.js";import"./IconSearch.27dac870.js";import"./IconButton.eadc8d3d.js";import"./Breadcrumbs.d39e2491.js";import"./BreadcrumbsItem.da3f8155.js";import"./TopBarTabBarContainer.3bdb2bb3.js";import"./TabBar.c1d45ed5.js";import"./TabBarItem.e9886f0a.js";import"./Confirm.888708f1.js";import"./Notification.d432029f.js";import"./IconDanger.2f6e115d.js";import"./IconWarning.ca92fb65.js";import"./IconSuccess.09b85716.js";import"./IconInfo.ad7662f9.js";import"./SearchPalette.282fdde5.js";import"./app.0131bc0c.js";import"./FormGroup.efd02a6a.js";import"./Label.9d0d3ee0.js";import"./ErrorText.b141a597.js";import"./HelperText.14a7ed0b.js";import"./IconClipboard.8551be1b.js";import"./IconKey.455a255f.js";const R={metaInfo(){return{title:`${this.__("DNS")} - ${this.site.domain}`}},layout:h,components:{TopBar:i,Container:s,Content:n,Page:a,PageHeader:m,PageHeaderTitle:l,PageBody:p,Button:d,List:u,ListItem:f,StatusBubble:c,NotificationBadge:_,FormInput:y,SettingsLayout:g,SettingsSegment:b,Form:v,FormActions:T,Pagination:S,Tabs:w,Table:D,TableHead:k,TableHeader:B,TableRow:H,TableBody:N,TableData:P,EmptyImage:$},data(){return{sending:!1,loading:!0,records:[],form:{name:null,address:null},breadcrumbs:[{title:this.$page.props.settings.name,to:"/"},{title:this.__("Sites"),to:this.route("sites.index")},{title:this.site.domain,to:this.route("sites.show",this.site.id)},{title:this.__("DNS"),to:this.route("sites.dns.index",this.site.id)}]}},props:{site:Object},mounted(){this.getRecords()},methods:{useNotification:C,submit(){this.$inertia.post(this.route("sites.dns.store",this.site.id),this.form,{onStart:()=>this.sending=!0,onFinish:()=>{this.sending=!1,this.records=[],this.getRecords(),this.form={name:null,address:null}}})},getRecords(){this.loading=!0,window.axios.get(this.route("sites.dns.records",this.site.id)).then(o=>{this.loading=!1,this.records=o.data}).catch(o=>{this.loading=!1})},confirmDelete(o){x({title:this.__("Are you sure?"),message:this.__("Your DNS will be completely removed."),onConfirm:()=>this.delete(o)})},delete(o){this.$inertia.delete(this.route("sites.dns.delete",[this.site.id,o.id]),{preserveScroll:!0,onStart:()=>this.sending=!0,onFinish:()=>{this.sending=!1,this.records=[],this.getRecords()}})}}};var I=function(){var t=this,e=t._self._c;return e("Page",[e("TopBar",{attrs:{breadcrumbs:t.breadcrumbs}}),e("Content",[e("Container",[e("PageHeader",{scopedSlots:t._u([{key:"start",fn:function(){return[e("PageHeaderTitle",[t._v(t._s(t.__("DNS")))])]},proxy:!0}])}),e("PageBody",[e("SettingsLayout",{scopedSlots:t._u([{key:"nav",fn:function(){return[e("Tabs",{attrs:{site:t.site}})]},proxy:!0},{key:"segments",fn:function(){return[e("SettingsSegment",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.__("Create")))]},proxy:!0},{key:"subtitle",fn:function(){return[t._v(" "+t._s(t.__("Create a new DNS record here."))+" ")]},proxy:!0},{key:"form",fn:function(){return[e("form",{staticClass:"space-y-4",on:{submit:function(r){return r.preventDefault(),t.submit.apply(null,arguments)}}},[e("FormInput",{attrs:{disabled:t.sending,label:t.__("Name"),errors:t.$page.props.errors.name},model:{value:t.form.name,callback:function(r){t.$set(t.form,"name",r)},expression:"form.name"}}),e("FormInput",{attrs:{disabled:t.sending,label:t.__("IPv4 address"),errors:t.$page.props.errors.address},model:{value:t.form.address,callback:function(r){t.$set(t.form,"address",r)},expression:"form.address"}}),e("FormActions",[e("Button",[t._v(t._s(t.__("Save")))])],1)],1)]},proxy:!0}])}),!t.records.length&&!t.loading?e("EmptyImage"):t._e(),t.loading?e("div",{staticClass:"inline-flex px-4"},[e("svg",{staticClass:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[e("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),e("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]),t._v(" Loading records.. ")]):t._e(),t.records.length?e("SettingsSegment",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.__("Records")))]},proxy:!0},{key:"content",fn:function(){return[e("div",[e("Table",{attrs:{caption:"DNS records list overview"}},[e("TableHead",[e("TableRow",[e("TableHeader",[t._v(t._s(t.__("Name")))]),e("TableHeader",[t._v(t._s(t.__("Content")))]),e("TableHeader")],1)],1),e("TableBody",t._l(t.records,function(r){return e("TableRow",{key:r.id},[e("TableData",[t._v(t._s(r.name))]),e("TableData",[t._v(t._s(r.display_content))]),e("TableData",[e("Button",{attrs:{variant:"danger",size:"sm"},on:{click:function(A){return t.confirmDelete(r)}}},[t._v("Delete")])],1)],1)}),1)],1)],1)]},proxy:!0}],null,!1,2802012102)}):t._e()]},proxy:!0}])})],1)],1)],1)],1)},L=[],z=F(R,I,L,!1,null,null,null,null);const Ot=z.exports;export{Ot as default};
