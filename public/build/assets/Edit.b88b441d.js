import s from"./TopBar.8157552e.js";import a from"./Container.f87d9f62.js";import m from"./Content.e22a1fd6.js";import n from"./Page.3927bdbf.js";import p from"./PageHeader.a5f457a5.js";import u from"./PageHeaderTitle.3ed783af.js";import l from"./PageBody.dec1fae1.js";import f from"./Button.f17dffc9.js";import c from"./List.d5d221b1.js";import _ from"./ListItem.ee1e88fb.js";import d from"./StatusBubble.4f1d8322.js";import h from"./NotificationBadge.b6fae3d5.js";import v from"./MainLayout.447e0981.js";import g from"./SettingsLayout.3305573b.js";import y from"./SettingsSegment.e8fdfb41.js";import b from"./FormInput.7debc7c5.js";import T from"./FormTextarea.5b8e3d32.js";import x from"./FormSelect.6e35ae7d.js";import S from"./Form.2cdcadd9.js";import k from"./FormActions.83ccca91.js";import{u as i}from"./confirm.89ece2eb.js";import A from"./Tabs.de9dab32.js";import F from"./Table.5d32c28c.js";import $ from"./TableHead.1eed799b.js";import B from"./TableHeader.44bdf327.js";import D from"./TableRow.6382a60a.js";import C from"./TableBody.c78326a3.js";import H from"./TableData.c69a64ca.js";import{n as P}from"./plugin-vue2_normalizer.000ba15c.js";import"./TopBar.27b84f08.js";import"./Dropdown.d1060583.js";import"./DropdownList.02c48c2f.js";import"./DropdownListItem.ac31464c.js";import"./IconMoon.ade3e41b.js";import"./IconSun.8809e5d7.js";import"./IconSearch.27dac870.js";import"./IconButton.eadc8d3d.js";import"./Breadcrumbs.d39e2491.js";import"./BreadcrumbsItem.da3f8155.js";import"./TopBarTabBarContainer.3bdb2bb3.js";import"./TabBar.c1d45ed5.js";import"./TabBarItem.e9886f0a.js";import"./Confirm.888708f1.js";import"./Notification.d432029f.js";import"./IconDanger.2f6e115d.js";import"./IconWarning.ca92fb65.js";import"./IconSuccess.09b85716.js";import"./IconInfo.ad7662f9.js";import"./SearchPalette.282fdde5.js";import"./notification.c5e20df3.js";import"./app.4a9d9ee7.js";import"./FormGroup.efd02a6a.js";import"./Label.9d0d3ee0.js";import"./ErrorText.b141a597.js";import"./HelperText.14a7ed0b.js";import"./IconClipboard.8551be1b.js";import"./IconKey.455a255f.js";const w={layout:v,components:{TopBar:s,Container:a,Content:m,Page:n,PageHeader:p,PageHeaderTitle:u,PageBody:l,Button:f,List:c,ListItem:_,StatusBubble:d,NotificationBadge:h,FormInput:b,FormSelect:x,SettingsLayout:g,SettingsSegment:y,Form:S,FormActions:k,Tabs:A,FormTextarea:T,Table:F,TableHead:$,TableHeader:B,TableRow:D,TableBody:C,TableData:H},data(){return{sending:!1,form:{name:this.server.name,ip:this.server.ip,maximum_sites:this.server.maximum_sites},formAttach:{email:null}}},props:{server:Object,users:[Object,Array]},methods:{submit(){this.$inertia.patch(this.route("admin.services.servers.update",this.server.id),this.form,{onStart:()=>this.sending=!0,onFinish:()=>this.sending=!1})},confirmDelete(){i({title:this.__("Are you sure?"),message:this.__("Are you sure you want to delete this server? Everything associated with this server will be detached."),onConfirm:()=>this.delete()})},delete(){this.$inertia.delete(this.route("admin.services.servers.delete",this.server.id),{onStart:()=>this.sending=!0,onFinish:()=>this.sending=!1})},attach(){this.$inertia.post(this.route("admin.services.servers.attach",this.server.id),this.formAttach,{onStart:()=>this.sending=!0,onFinish:()=>{this.sending=!1,Object.keys(this.$page.props.errors).length||(this.formAttach.email=null)}})},confirmDetach(o){i({title:this.__("Are you sure?"),message:this.__("Are you sure you want to detach this user from this server?"),onConfirm:()=>this.detach(o)})},detach(o){this.$inertia.delete(this.route("admin.services.servers.detach",[this.server.id,o]),{onStart:()=>this.sending=!0,onFinish:()=>this.sending=!1})}}};var I=function(){var t=this,e=t._self._c;return e("Page",[e("TopBar"),e("Content",[e("Container",[e("PageHeader",{scopedSlots:t._u([{key:"start",fn:function(){return[e("PageHeaderTitle",[t._v(t._s(t.__("Edit server")))])]},proxy:!0}])}),e("PageBody",[e("SettingsLayout",{scopedSlots:t._u([{key:"nav",fn:function(){return[e("Tabs")]},proxy:!0},{key:"segments",fn:function(){return[e("SettingsSegment",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.__("Edit")))]},proxy:!0},{key:"form",fn:function(){return[e("form",{staticClass:"space-y-4",on:{submit:function(r){return r.preventDefault(),t.submit.apply(null,arguments)}}},[e("FormInput",{attrs:{label:t.__("Name"),errors:t.$page.props.errors.name},model:{value:t.form.name,callback:function(r){t.$set(t.form,"name",r)},expression:"form.name"}}),e("FormInput",{attrs:{label:t.__("IP address"),errors:t.$page.props.errors.ip},model:{value:t.form.ip,callback:function(r){t.$set(t.form,"ip",r)},expression:"form.ip"}}),e("FormInput",{attrs:{label:t.__("Maximum sites"),errors:t.$page.props.errors.maximum_sites},model:{value:t.form.maximum_sites,callback:function(r){t.$set(t.form,"maximum_sites",r)},expression:"form.maximum_sites"}}),e("FormActions",[e("Button",[t._v(t._s(t.__("Save")))]),e("Button",{attrs:{variant:"danger",type:"button"},on:{click:t.confirmDelete}},[t._v(" "+t._s(t.__("Delete"))+" ")])],1)],1)]},proxy:!0}])}),e("SettingsSegment",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.__("Attached users")))]},proxy:!0},{key:"form",fn:function(){return[e("form",{staticClass:"space-y-4",on:{submit:function(r){return r.preventDefault(),t.attach.apply(null,arguments)}}},[e("FormInput",{attrs:{label:t.__("Email"),errors:t.$page.props.errors.email},model:{value:t.formAttach.email,callback:function(r){t.$set(t.formAttach,"email",r)},expression:"formAttach.email"}}),e("FormActions",[e("Button",[t._v(t._s(t.__("Save")))])],1)],1)]},proxy:!0},{key:"content",fn:function(){return[e("div",[e("Table",{attrs:{caption:"Attached users list overview"}},[e("TableHead",[e("TableRow",[e("TableHeader",[t._v(t._s(t.__("Name")))]),e("TableHeader",[t._v(t._s(t.__("Email")))]),e("TableHeader")],1)],1),e("TableBody",t._l(t.users,function(r){return e("TableRow",{key:r.id},[e("TableData",[t._v(t._s(r.name))]),e("TableData",[t._v(t._s(r.email))]),e("TableData",[e("Button",{attrs:{variant:"danger",size:"sm"},on:{click:function(R){return t.confirmDetach(r.id)}}},[t._v(" "+t._s(t.__("Detach"))+" ")])],1)],1)}),1)],1)],1)]},proxy:!0}])})]},proxy:!0}])})],1)],1)],1)],1)},E=[],L=P(w,I,E,!1,null,null,null,null);const zt=L.exports;export{zt as default};
