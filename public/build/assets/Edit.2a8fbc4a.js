import n from"./TopBar.8157552e.js";import l from"./Container.f87d9f62.js";import p from"./Content.e22a1fd6.js";import u from"./Page.3927bdbf.js";import f from"./PageHeader.a5f457a5.js";import _ from"./PageHeaderTitle.3ed783af.js";import c from"./PageBody.dec1fae1.js";import d from"./Button.f17dffc9.js";import g from"./List.d5d221b1.js";import h from"./ListItem.ee1e88fb.js";import b from"./StatusBubble.4f1d8322.js";import v from"./NotificationBadge.b6fae3d5.js";import k from"./MainLayout.447e0981.js";import y from"./SettingsLayout.3305573b.js";import x from"./SettingsSegment.e8fdfb41.js";import w from"./FormInput.7debc7c5.js";import F from"./FormTextarea.5b8e3d32.js";import S from"./FormSelect.6e35ae7d.js";import P from"./Form.2cdcadd9.js";import $ from"./FormActions.83ccca91.js";import{u as C}from"./confirm.89ece2eb.js";import q from"./Tabs.4a91c310.js";import{n as T}from"./plugin-vue2_normalizer.000ba15c.js";import"./TopBar.27b84f08.js";import"./Dropdown.d1060583.js";import"./DropdownList.02c48c2f.js";import"./DropdownListItem.ac31464c.js";import"./IconMoon.ade3e41b.js";import"./IconSun.8809e5d7.js";import"./IconSearch.27dac870.js";import"./IconButton.eadc8d3d.js";import"./Breadcrumbs.d39e2491.js";import"./BreadcrumbsItem.da3f8155.js";import"./TopBarTabBarContainer.3bdb2bb3.js";import"./TabBar.c1d45ed5.js";import"./TabBarItem.e9886f0a.js";import"./Confirm.888708f1.js";import"./Notification.d432029f.js";import"./IconDanger.2f6e115d.js";import"./IconWarning.ca92fb65.js";import"./IconSuccess.09b85716.js";import"./IconInfo.ad7662f9.js";import"./SearchPalette.282fdde5.js";import"./notification.c5e20df3.js";import"./app.4a9d9ee7.js";import"./FormGroup.efd02a6a.js";import"./Label.9d0d3ee0.js";import"./ErrorText.b141a597.js";import"./HelperText.14a7ed0b.js";import"./IconClipboard.8551be1b.js";import"./IconKey.455a255f.js";const A={metaInfo(){return{title:`${this.__("Edit user")}`}},layout:k,components:{TopBar:n,Container:l,Content:p,Page:u,PageHeader:f,PageHeaderTitle:_,PageBody:c,Button:d,List:g,ListItem:h,StatusBubble:b,NotificationBadge:v,FormInput:w,FormSelect:S,SettingsLayout:y,SettingsSegment:x,Form:P,FormActions:$,Tabs:q,FormTextarea:F},data(){return{sending:!1,form:{name:this.user.name,email:this.user.email,role:this.user.role,package:this.user.package_id,notes:this.user.notes,language:this.user.language,blocked:this.user.blocked,requires_password_for_ftp:this.user.requires_password_for_ftp}}},props:{user:Object,packages:Object,languages:Array},methods:{submit(){this.$inertia.patch(this.route("admin.users.update",this.user.id),this.form,{onStart:()=>this.sending=!0,onFinish:()=>this.sending=!1})},confirmDelete(){C({title:this.__("Are you sure?"),message:"Are you sure you want to delete this user? Everything associated with this user will be detached.",onConfirm:()=>this.delete()})},delete(){this.sending=!0,this.$inertia.delete(this.route("admin.users.destroy",this.user.id),{onFinish:()=>{this.sending=!1}})}}};var B=function(){var e=this,r=e._self._c;return r("Page",[r("TopBar"),r("Content",[r("Container",[r("PageHeader",{scopedSlots:e._u([{key:"start",fn:function(){return[r("PageHeaderTitle",[e._v(e._s(e.__("Edit user")))])]},proxy:!0}])}),r("PageBody",[r("SettingsLayout",{scopedSlots:e._u([{key:"nav",fn:function(){return[r("Tabs")]},proxy:!0},{key:"segments",fn:function(){return[r("SettingsSegment",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.__("Edit")))]},proxy:!0},{key:"form",fn:function(){return[r("form",{staticClass:"space-y-4",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[r("FormInput",{attrs:{label:e.__("Name"),errors:e.$page.props.errors.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),r("FormInput",{attrs:{label:e.__("Email"),errors:e.$page.props.errors.email,type:"email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),r("FormTextarea",{attrs:{label:e.__("Notes"),errors:e.$page.props.errors.notes},model:{value:e.form.notes,callback:function(t){e.$set(e.form,"notes",t)},expression:"form.notes"}}),r("FormSelect",{attrs:{label:e.__("Role")},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},[r("option",{attrs:{value:"user"}},[e._v("User")]),r("option",{attrs:{value:"admin"}},[e._v("Administrator")])]),r("FormSelect",{attrs:{label:e.__("Package")},model:{value:e.form.package,callback:function(t){e.$set(e.form,"package",t)},expression:"form.package"}},[r("option",{attrs:{value:""},domProps:{textContent:e._s(e.__("None"))}}),e._l(e.packages,function(t,o){return r("option",{domProps:{value:o,textContent:e._s(t)}})})],2),r("FormSelect",{attrs:{label:e.__("Language")},model:{value:e.form.language,callback:function(t){e.$set(e.form,"language",t)},expression:"form.language"}},e._l(e.languages,function(t){return r("option",{domProps:{value:t,textContent:e._s(t)}})}),0),r("FormTextarea",{attrs:{label:e.__("Blocked"),errors:e.$page.props.errors.blocked,rows:"2"},model:{value:e.form.blocked,callback:function(t){e.$set(e.form,"blocked",t)},expression:"form.blocked"}}),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.requires_password_for_ftp,expression:"form.requires_password_for_ftp"}],staticClass:"form-checkbox",attrs:{id:"isolate_per_site_per_user",type:"checkbox"},domProps:{checked:Array.isArray(e.form.requires_password_for_ftp)?e._i(e.form.requires_password_for_ftp,null)>-1:e.form.requires_password_for_ftp},on:{change:function(t){var o=e.form.requires_password_for_ftp,a=t.target,m=!!a.checked;if(Array.isArray(o)){var i=null,s=e._i(o,i);a.checked?s<0&&e.$set(e.form,"requires_password_for_ftp",o.concat([i])):s>-1&&e.$set(e.form,"requires_password_for_ftp",o.slice(0,s).concat(o.slice(s+1)))}else e.$set(e.form,"requires_password_for_ftp",m)}}}),r("label",{staticClass:"ml-2 text-sm",attrs:{for:"isolate_per_site_per_user"}},[e._v(e._s(e.__("Require password to show FTP password")))]),r("p",{staticClass:"text-small mt-1 text-medium-emphasis"},[e._v(" "+e._s(e.__("Disabling this will allow this user to get the FTP password right away."))+" ")])]),r("FormActions",[r("Button",[e._v(e._s(e.__("Save")))]),r("Button",{attrs:{variant:"danger",type:"button"},on:{click:e.confirmDelete}},[e._v(" "+e._s(e.__("Delete"))+" ")])],1)],1)]},proxy:!0}])})]},proxy:!0}])})],1)],1)],1)],1)},E=[],L=T(A,B,E,!1,null,null,null,null);const Ee=L.exports;export{Ee as default};
