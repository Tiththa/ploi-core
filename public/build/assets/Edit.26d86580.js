import c from"./TopBar.8157552e.js";import _ from"./Container.f87d9f62.js";import d from"./Content.e22a1fd6.js";import u from"./Page.3927bdbf.js";import f from"./PageHeader.a5f457a5.js";import v from"./PageHeaderTitle.3ed783af.js";import h from"./PageBody.dec1fae1.js";import y from"./Button.f17dffc9.js";import x from"./List.d5d221b1.js";import b from"./ListItem.ee1e88fb.js";import g from"./StatusBubble.4f1d8322.js";import k from"./NotificationBadge.b6fae3d5.js";import A from"./MainLayout.17290af6.js";import C from"./SettingsLayout.3305573b.js";import w from"./SettingsSegment.e8fdfb41.js";import $ from"./FormInput.7debc7c5.js";import S from"./FormSelect.6e35ae7d.js";import P from"./Form.2cdcadd9.js";import F from"./FormActions.83ccca91.js";import{u as T}from"./confirm.059313bf.js";import B from"./Tabs.40adb3dd.js";import{n as I}from"./plugin-vue2_normalizer.000ba15c.js";import"./TopBar.27b84f08.js";import"./Dropdown.d1060583.js";import"./DropdownList.02c48c2f.js";import"./DropdownListItem.ac31464c.js";import"./IconMoon.ade3e41b.js";import"./IconSun.8809e5d7.js";import"./IconSearch.27dac870.js";import"./IconButton.eadc8d3d.js";import"./Breadcrumbs.d39e2491.js";import"./BreadcrumbsItem.da3f8155.js";import"./TopBarTabBarContainer.3bdb2bb3.js";import"./TabBar.c1d45ed5.js";import"./TabBarItem.e9886f0a.js";import"./Confirm.888708f1.js";import"./Notification.d432029f.js";import"./IconDanger.2f6e115d.js";import"./IconWarning.ca92fb65.js";import"./IconSuccess.09b85716.js";import"./IconInfo.ad7662f9.js";import"./SearchPalette.282fdde5.js";import"./notification.db2f2ae7.js";import"./app.79e1f42d.js";import"./FormGroup.efd02a6a.js";import"./Label.9d0d3ee0.js";import"./ErrorText.b141a597.js";import"./HelperText.14a7ed0b.js";import"./IconClipboard.8551be1b.js";import"./IconKey.455a255f.js";const N={metaInfo(){return{title:`${this.__("Edit package")}`}},layout:A,components:{TopBar:c,Container:_,Content:d,Page:u,PageHeader:f,PageHeaderTitle:v,PageBody:h,Button:y,List:x,ListItem:b,StatusBubble:g,NotificationBadge:k,FormInput:$,FormSelect:S,SettingsLayout:C,SettingsSegment:w,Form:P,FormActions:F,Tabs:B},data(){var n,e,r;return{sending:!1,form:{name:this.package.name,currency:this.package.currency,plan_id:this.package.plan_id,maximum_sites:this.package.maximum_sites,maximum_servers:this.package.maximum_servers,server_permissions:(n=this.package.server_permissions)!=null?n:[],site_permissions:(e=this.package.site_permissions)!=null?e:[],price_monthly:this.package.price_monthly,price_yearly:this.package.price_yearly,providers:(r=this.syncedProviders)!=null?r:[]}}},props:{package:Object,providers:[Array,Object],syncedProviders:Array},methods:{submit(){this.$inertia.patch(this.route("admin.packages.update",this.package.id),this.form,{onStart:()=>this.sending=!0,onFinish:()=>this.sending=!1})},confirmDelete(){T({title:this.__("Are you sure?"),message:this.__("Are you sure you want to delete this package? Everything associated with this package will be detached."),onConfirm:()=>this.delete()})},delete(){this.$inertia.delete(this.route("admin.packages.destroy",this.package.id),{onStart:()=>this.sending=!0,onFinish:()=>this.sending=!1})}}};var D=function(){var e=this,r=e._self._c;return r("Page",[r("TopBar"),r("Content",[r("Container",[r("PageHeader",{scopedSlots:e._u([{key:"start",fn:function(){return[r("PageHeaderTitle",[e._v(e._s(e.__("Edit package")))])]},proxy:!0}])}),r("PageBody",[r("SettingsLayout",{scopedSlots:e._u([{key:"nav",fn:function(){return[r("Tabs")]},proxy:!0},{key:"segments",fn:function(){return[r("SettingsSegment",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.__("Edit")))]},proxy:!0},{key:"form",fn:function(){return[r("form",{staticClass:"space-y-4",on:{submit:function(i){return i.preventDefault(),e.submit.apply(null,arguments)}}},[r("FormInput",{attrs:{label:e.__("Name"),errors:e.$page.props.errors.name},model:{value:e.form.name,callback:function(i){e.$set(e.form,"name",i)},expression:"form.name"}}),r("FormInput",{attrs:{label:e.__("Maximum sites"),type:"number",min:"0","helper-text":"Set to 0 for unlimited",errors:e.$page.props.errors.maximum_sites},model:{value:e.form.maximum_sites,callback:function(i){e.$set(e.form,"maximum_sites",i)},expression:"form.maximum_sites"}}),r("FormInput",{attrs:{label:e.__("Maximum servers"),type:"number",min:"0",errors:e.$page.props.errors.maximum_servers,"helper-text":"Set to 0 for unlimited"},model:{value:e.form.maximum_servers,callback:function(i){e.$set(e.form,"maximum_servers",i)},expression:"form.maximum_servers"}}),r("FormInput",{attrs:{label:e.__("Plan ID"),errors:e.$page.props.errors.plan_id,"helper-text":"Enter the pricing ID from Stripe here"},model:{value:e.form.plan_id,callback:function(i){e.$set(e.form,"plan_id",i)},expression:"form.plan_id"}}),e.form.plan_id?r("FormInput",{attrs:{label:e.__("Monthly price"),"helper-text":"Fill this in if you want it to be monthly payments",errors:e.$page.props.errors.price_monthly},model:{value:e.form.price_monthly,callback:function(i){e.$set(e.form,"price_monthly",i)},expression:"form.price_monthly"}}):e._e(),e.form.plan_id?r("FormInput",{attrs:{label:e.__("Yearly price"),"helper-text":"Fill this in if you want it to be yearly payments",errors:e.$page.props.errors.price_yearly},model:{value:e.form.price_yearly,callback:function(i){e.$set(e.form,"price_yearly",i)},expression:"form.price_yearly"}}):e._e(),e.form.plan_id?r("FormSelect",{attrs:{errors:e.$page.props.errors.currency,label:e.__("Currency")},model:{value:e.form.currency,callback:function(i){e.$set(e.form,"currency",i)},expression:"form.currency"}},[r("option",{attrs:{value:"usd"}},[e._v(e._s(e.__("USD $")))]),r("option",{attrs:{value:"eur"}},[e._v(e._s(e.__("Euro \u20AC")))]),r("option",{attrs:{value:"gbp"}},[e._v(e._s(e.__("GBP \xA3")))]),r("option",{attrs:{value:"nok"}},[e._v(e._s(e.__("NOK (Norwegian Krone)")))]),r("option",{attrs:{value:"aud"}},[e._v(e._s(e.__("AUD (Australian dollar)")))]),r("option",{attrs:{value:"cad"}},[e._v(e._s(e.__("CAD (Canadian dollar)")))]),r("option",{attrs:{value:"inr"}},[e._v(e._s(e.__("INR \u20B9 (Indian rupee)")))]),r("option",{attrs:{value:"thb"}},[e._v(e._s(e.__("THB (Thai bath)")))]),r("option",{attrs:{value:"brl"}},[e._v(e._s(e.__("BRL R$ (Brazilian Real)")))])]):e._e(),r("div",{staticClass:"space-y-4"},[r("h3",{staticClass:"text-base leading-6 font-medium border-b border-dotted border-medium-emphasis pb-1"},[e._v(" "+e._s(e.__("Server permissions")))]),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.server_permissions.create,expression:"form.server_permissions['create']"}],staticClass:"form-checkbox",attrs:{id:"server_create",type:"checkbox"},domProps:{checked:Array.isArray(e.form.server_permissions.create)?e._i(e.form.server_permissions.create,null)>-1:e.form.server_permissions.create},on:{change:function(i){var s=e.form.server_permissions.create,a=i.target,m=!!a.checked;if(Array.isArray(s)){var o=null,t=e._i(s,o);a.checked?t<0&&e.$set(e.form.server_permissions,"create",s.concat([o])):t>-1&&e.$set(e.form.server_permissions,"create",s.slice(0,t).concat(s.slice(t+1)))}else e.$set(e.form.server_permissions,"create",m)}}}),r("label",{staticClass:"ml-2 text-sm",attrs:{for:"server_create"}},[e._v(e._s(e.__("Allow server creation")))]),r("p",{staticClass:"text-small mt-1 text-medium-emphasis"},[e._v(" "+e._s(e.__("This will allow users to create servers"))+" ")])]),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.server_permissions.update,expression:"form.server_permissions['update']"}],staticClass:"form-checkbox",attrs:{id:"server_update",type:"checkbox"},domProps:{checked:Array.isArray(e.form.server_permissions.update)?e._i(e.form.server_permissions.update,null)>-1:e.form.server_permissions.update},on:{change:function(i){var s=e.form.server_permissions.update,a=i.target,m=!!a.checked;if(Array.isArray(s)){var o=null,t=e._i(s,o);a.checked?t<0&&e.$set(e.form.server_permissions,"update",s.concat([o])):t>-1&&e.$set(e.form.server_permissions,"update",s.slice(0,t).concat(s.slice(t+1)))}else e.$set(e.form.server_permissions,"update",m)}}}),r("label",{staticClass:"ml-2 text-sm",attrs:{for:"server_update"}},[e._v(e._s(e.__("Allow server updating")))]),r("p",{staticClass:"text-small mt-1 text-medium-emphasis"},[e._v(" "+e._s(e.__("This will allow users to update servers"))+" ")])]),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.server_permissions.delete,expression:"form.server_permissions['delete']"}],staticClass:"form-checkbox",attrs:{id:"server_delete",type:"checkbox"},domProps:{checked:Array.isArray(e.form.server_permissions.delete)?e._i(e.form.server_permissions.delete,null)>-1:e.form.server_permissions.delete},on:{change:function(i){var s=e.form.server_permissions.delete,a=i.target,m=!!a.checked;if(Array.isArray(s)){var o=null,t=e._i(s,o);a.checked?t<0&&e.$set(e.form.server_permissions,"delete",s.concat([o])):t>-1&&e.$set(e.form.server_permissions,"delete",s.slice(0,t).concat(s.slice(t+1)))}else e.$set(e.form.server_permissions,"delete",m)}}}),r("label",{staticClass:"ml-2 text-sm",attrs:{for:"server_delete"}},[e._v(e._s(e.__("Allow server deletion")))]),r("p",{staticClass:"text-small mt-1 text-medium-emphasis"},[e._v(" "+e._s(e.__("This will allow users to delete servers"))+" ")])])]),r("div",{staticClass:"space-y-2"},[r("h3",{staticClass:"text-base leading-6 font-medium border-b border-dotted border-medium-emphasis pb-1"},[e._v(" "+e._s(e.__("Site permissions")))]),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.site_permissions.create,expression:"form.site_permissions['create']"}],staticClass:"form-checkbox",attrs:{id:"site_create",type:"checkbox"},domProps:{checked:Array.isArray(e.form.site_permissions.create)?e._i(e.form.site_permissions.create,null)>-1:e.form.site_permissions.create},on:{change:function(i){var s=e.form.site_permissions.create,a=i.target,m=!!a.checked;if(Array.isArray(s)){var o=null,t=e._i(s,o);a.checked?t<0&&e.$set(e.form.site_permissions,"create",s.concat([o])):t>-1&&e.$set(e.form.site_permissions,"create",s.slice(0,t).concat(s.slice(t+1)))}else e.$set(e.form.site_permissions,"create",m)}}}),r("label",{staticClass:"ml-2 text-sm",attrs:{for:"site_create"}},[e._v(e._s(e.__("Allow site creation")))]),r("p",{staticClass:"text-small mt-1 text-medium-emphasis"},[e._v(" "+e._s(e.__("This will allow users to create sites"))+" ")])]),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.site_permissions.update,expression:"form.site_permissions['update']"}],staticClass:"form-checkbox",attrs:{id:"site_update",type:"checkbox"},domProps:{checked:Array.isArray(e.form.site_permissions.update)?e._i(e.form.site_permissions.update,null)>-1:e.form.site_permissions.update},on:{change:function(i){var s=e.form.site_permissions.update,a=i.target,m=!!a.checked;if(Array.isArray(s)){var o=null,t=e._i(s,o);a.checked?t<0&&e.$set(e.form.site_permissions,"update",s.concat([o])):t>-1&&e.$set(e.form.site_permissions,"update",s.slice(0,t).concat(s.slice(t+1)))}else e.$set(e.form.site_permissions,"update",m)}}}),r("label",{staticClass:"ml-2 text-sm",attrs:{for:"site_update"}},[e._v(e._s(e.__("Allow site updating")))]),r("p",{staticClass:"text-small mt-1 text-medium-emphasis"},[e._v(" "+e._s(e.__("This will allow users to update sites"))+" ")])]),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.site_permissions.delete,expression:"form.site_permissions['delete']"}],staticClass:"form-checkbox",attrs:{id:"site_delete",type:"checkbox"},domProps:{checked:Array.isArray(e.form.site_permissions.delete)?e._i(e.form.site_permissions.delete,null)>-1:e.form.site_permissions.delete},on:{change:function(i){var s=e.form.site_permissions.delete,a=i.target,m=!!a.checked;if(Array.isArray(s)){var o=null,t=e._i(s,o);a.checked?t<0&&e.$set(e.form.site_permissions,"delete",s.concat([o])):t>-1&&e.$set(e.form.site_permissions,"delete",s.slice(0,t).concat(s.slice(t+1)))}else e.$set(e.form.site_permissions,"delete",m)}}}),r("label",{staticClass:"ml-2 text-sm",attrs:{for:"site_delete"}},[e._v(e._s(e.__("Allow site deletion")))]),r("p",{staticClass:"text-small mt-1 text-medium-emphasis"},[e._v(" "+e._s(e.__("This will allow users to delete sites"))+" ")])])]),e.form.server_permissions.create?r("div",{staticClass:"space-y-2"},[r("h3",{staticClass:"text-base leading-6 font-medium border-b border-dotted border-medium-emphasis pb-1"},[e._v(" "+e._s(e.__("Available server providers")))]),Object.keys(e.providers).length?e._e():r("div",{staticClass:"bg-primary text-on-primary px-4 py-3 rounded relative space-y-2",attrs:{role:"alert"}},[r("p",{staticClass:"block"},[e._v(" There are no server providers to select from. You can synchronize new server providers from the Services tab. ")])]),e._l(e.providers,function(i,s){return r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.providers,expression:"form.providers"}],staticClass:"form-checkbox",attrs:{id:`provider-${s}`,type:"checkbox"},domProps:{value:s,checked:Array.isArray(e.form.providers)?e._i(e.form.providers,s)>-1:e.form.providers},on:{change:function(a){var m=e.form.providers,o=a.target,t=!!o.checked;if(Array.isArray(m)){var p=s,l=e._i(m,p);o.checked?l<0&&e.$set(e.form,"providers",m.concat([p])):l>-1&&e.$set(e.form,"providers",m.slice(0,l).concat(m.slice(l+1)))}else e.$set(e.form,"providers",t)}}}),r("label",{staticClass:"ml-2 text-sm",attrs:{for:`provider-${s}`}},[e._v(e._s(i))])])})],2):e._e(),r("FormActions",[r("Button",[e._v(e._s(e.__("Save")))]),r("Button",{attrs:{variant:"danger",type:"button"},on:{click:e.confirmDelete}},[e._v(" "+e._s(e.__("Delete"))+" ")])],1)],1)]},proxy:!0}])})]},proxy:!0}])})],1)],1)],1)],1)},E=[],L=I(N,D,E,!1,null,null,null,null);const Ne=L.exports;export{Ne as default};
